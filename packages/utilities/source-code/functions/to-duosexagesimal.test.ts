import { describe, expect, test } from "vitest";

import { toDuosexagesimal } from "./to-duosexagesimal";

describe(`${toDuosexagesimal.name}()`, function () {
  test.each([
    [0, "0"],
    [1, "1"],
    [61, "z"],
    [62, "10"],
    [3843, "zz"],
    [3844, "100"],
    [238327, "zzz"],
    [238328, "1000"],
    [14776335, "zzzz"],
    [14776336, "10000"],
    [916132831, "zzzzz"],
    [916132832, "100000"],
    [56800235583, "zzzzzz"],
    [56800235584, "1000000"],
    [3521614606207, "zzzzzzz"],
    [3521614606208, "10000000"],
    [218340105584895, "zzzzzzzz"],
    [218340105584896, "100000000"],
    [13537086546263551n, "zzzzzzzzz"],
    [13537086546263552n, "1000000000"],
    [839299365868340223n, "zzzzzzzzzz"],
    [839299365868340224n, "10000000000"],
    [52036560683837093887n, "zzzzzzzzzzz"],
    [52036560683837093888n, "100000000000"],
    [3226266762397899821055n, "zzzzzzzzzzzz"],
    [3226266762397899821056n, "1000000000000"],
    [200028539268669788905471n, "zzzzzzzzzzzzz"],
    [200028539268669788905472n, "10000000000000"],
    [12401769434657526912139263n, "zzzzzzzzzzzzzz"],
    [12401769434657526912139264n, "100000000000000"],
    [768909704948766668552634367n, "zzzzzzzzzzzzzzz"],
    [768909704948766668552634368n, "1000000000000000"],
    [47672401706823533450263330815n, "zzzzzzzzzzzzzzzz"],
    [47672401706823533450263330816n, "10000000000000000"],
    [2955688905823059073916326510591n, "zzzzzzzzzzzzzzzzz"],
    [2955688905823059073916326510592n, "100000000000000000"],
    [183252712161029662582812243656703n, "zzzzzzzzzzzzzzzzzz"],
    [183252712161029662582812243656704n, "1000000000000000000"],
    [11361668153983839080134359106715647n, "zzzzzzzzzzzzzzzzzzz"],
    [11361668153983839080134359106715648n, "10000000000000000000"],
    [704423425546998022968330264616370175n, "zzzzzzzzzzzzzzzzzzzz"],
    [704423425546998022968330264616370176n, "100000000000000000000"],
    [43674252383913877424036476406214950911n, "zzzzzzzzzzzzzzzzzzzzz"],
    [43674252383913877424036476406214950912n, "1000000000000000000000"],
    [2707803647802660400290261537185326956543n, "zzzzzzzzzzzzzzzzzzzzzz"],
    [2707803647802660400290261537185326956544n, "10000000000000000000000"],
    [167883826163764944817996215305490271305727n, "zzzzzzzzzzzzzzzzzzzzzzz"],
    [167883826163764944817996215305490271305728n, "100000000000000000000000"],
    [10408797222153426578715765348940396820955135n, "zzzzzzzzzzzzzzzzzzzzzzzz"],
    [10408797222153426578715765348940396820955136n, "1000000000000000000000000"],
    [645345427773512447880377451634304602899218431n, "zzzzzzzzzzzzzzzzzzzzzzzzz"],
    [645345427773512447880377451634304602899218432n, "10000000000000000000000000"],
    [40011416521957771768583402001326885379751542783n, "zzzzzzzzzzzzzzzzzzzzzzzzzz"],
    [40011416521957771768583402001326885379751542784n, "100000000000000000000000000"],
    [2480707824361381849652170924082266893544595652607n, "zzzzzzzzzzzzzzzzzzzzzzzzzzz"],
    [2480707824361381849652170924082266893544595652608n, "1000000000000000000000000000"],
    [153803885110405674678434597293100547399764930461695n, "zzzzzzzzzzzzzzzzzzzzzzzzzzzz"],
    [153803885110405674678434597293100547399764930461696n, "10000000000000000000000000000"],
    [9535840876845151830062945032172233938785425688625151n, "zzzzzzzzzzzzzzzzzzzzzzzzzzzzz"],
    [9535840876845151830062945032172233938785425688625152n, "100000000000000000000000000000"],
    [591222134364399413463902591994678504204696392694759423n, "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzz"],
    [591222134364399413463902591994678504204696392694759424n, "1000000000000000000000000000000"],
    [36655772330592763634761960703670067260691176347075084287n, "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz"],
    [36655772330592763634761960703670067260691176347075084288n, "10000000000000000000000000000000"],
    [
      2272657884496751345355241563627544170162852933518655225855n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      2272657884496751345355241563627544170162852933518655225856n,
      "100000000000000000000000000000000",
    ],
    [
      140904788838798583412024976944907738550096881878156624003071n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      140904788838798583412024976944907738550096881878156624003072n,
      "1000000000000000000000000000000000",
    ],
    [
      8736096908005512171545548570584279790106006676445710688190463n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      8736096908005512171545548570584279790106006676445710688190464n,
      "10000000000000000000000000000000000",
    ],
    [
      541638008296341754635824011376225346986572413939634062667808767n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      541638008296341754635824011376225346986572413939634062667808768n,
      "100000000000000000000000000000000000",
    ],
    [
      33581556514373188787421088705325971513167489664257311885404143615n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      33581556514373188787421088705325971513167489664257311885404143616n,
      "1000000000000000000000000000000000000",
    ],
    [
      2082056503891137704820107499730210233816384359183953336895056904191n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      2082056503891137704820107499730210233816384359183953336895056904192n,
      "10000000000000000000000000000000000000",
    ],
    [
      129087503241250537698846664983273034496615830269405106887493528059903n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      129087503241250537698846664983273034496615830269405106887493528059904n,
      "100000000000000000000000000000000000000",
    ],
    [
      8003425200957533337328493228962928138790181476703116627024598739714047n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      8003425200957533337328493228962928138790181476703116627024598739714048n,
      "1000000000000000000000000000000000000000",
    ],
    [
      496212362459367066914366580195701544604991251555593230875525121862270975n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      496212362459367066914366580195701544604991251555593230875525121862270976n,
      "10000000000000000000000000000000000000000",
    ],
    [
      30765166472480758148690727972133495765509457596446780314282557555460800511n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      30765166472480758148690727972133495765509457596446780314282557555460800512n,
      "100000000000000000000000000000000000000000",
    ],
    [
      1907440321293807005218825134272276737461586370979700379485518568438569631743n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      1907440321293807005218825134272276737461586370979700379485518568438569631744n,
      "1000000000000000000000000000000000000000000",
    ],
    [
      118261299920216034323567158324881157722618355000741423528102151243191317168127n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      118261299920216034323567158324881157722618355000741423528102151243191317168128n,
      "10000000000000000000000000000000000000000000",
    ],
    [
      7332200595053394128061163816142631778802338010045968258742333377077861664423935n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      7332200595053394128061163816142631778802338010045968258742333377077861664423936n,
      "100000000000000000000000000000000000000000000",
    ],
    [
      454596436893310435939792156600843170285744956622850032042024669378827423194284031n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      454596436893310435939792156600843170285744956622850032042024669378827423194284032n,
      "1000000000000000000000000000000000000000000000",
    ],
    [
      28184979087385247028267113709252276557716187310616701986605529501487300238045609983n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      28184979087385247028267113709252276557716187310616701986605529501487300238045609984n,
      "10000000000000000000000000000000000000000000000",
    ],
    [
      1747468703417885315752561049973641146578403613258235523169542829092212614758827819007n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      1747468703417885315752561049973641146578403613258235523169542829092212614758827819008n,
      "100000000000000000000000000000000000000000000000",
    ],
    [
      108343059611908889576658785098365751087861024022010602436511655403717182115047324778495n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      108343059611908889576658785098365751087861024022010602436511655403717182115047324778496n,
      "1000000000000000000000000000000000000000000000000",
    ],
    [
      6717269695938351153752844676098676567447383489364657351063722635030465291132934136266751n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      6717269695938351153752844676098676567447383489364657351063722635030465291132934136266752n,
      "10000000000000000000000000000000000000000000000000",
    ],
    [
      416470721148177771532676369918117947181737776340608755765950803371888848050241916448538623n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      416470721148177771532676369918117947181737776340608755765950803371888848050241916448538624n,
      "100000000000000000000000000000000000000000000000000",
    ],
    [
      25821184711187021835025934934923312725267742133117742857488949809057108579114998819809394687n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      25821184711187021835025934934923312725267742133117742857488949809057108579114998819809394688n,
      "1000000000000000000000000000000000000000000000000000",
    ],
    [
      1600913452093595353771607965965245388966600012253300057164314888161540731905129926828182470655n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      1600913452093595353771607965965245388966600012253300057164314888161540731905129926828182470656n,
      "10000000000000000000000000000000000000000000000000000",
    ],
    [
      99256634029802911933839693889845214115929200759704603544187523066015525378118055463347313180671n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      99256634029802911933839693889845214115929200759704603544187523066015525378118055463347313180672n,
      "100000000000000000000000000000000000000000000000000000",
    ],
    [
      6153911309847780539898061021170403275187610447101685419739626430092962573443319438727533417201663n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      6153911309847780539898061021170403275187610447101685419739626430092962573443319438727533417201664n,
      "1000000000000000000000000000000000000000000000000000000",
    ],
    [
      381542501210562393473679783312565003061631847720304496023856838665763679553485805201107071866503167n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      381542501210562393473679783312565003061631847720304496023856838665763679553485805201107071866503168n,
      "10000000000000000000000000000000000000000000000000000000",
    ],
    [
      23655635075054868395368146565379030189821174558658878753479123997277348132316119922468638455723196415n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      23655635075054868395368146565379030189821174558658878753479123997277348132316119922468638455723196416n,
      "100000000000000000000000000000000000000000000000000000000",
    ],
    [
      1466649374653401840512825087053499871768912822636850482715705687831195584203599435193055584254838177791n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      1466649374653401840512825087053499871768912822636850482715705687831195584203599435193055584254838177792n,
      "1000000000000000000000000000000000000000000000000000000000",
    ],
    [
      90932261228510914111795155397316992049672595003484729928373752645534126220623164981969446223799967023103n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      90932261228510914111795155397316992049672595003484729928373752645534126220623164981969446223799967023104n,
      "10000000000000000000000000000000000000000000000000000000000",
    ],
    [
      5637800196167676674931299634633653507079700890216053255559172664023115825678636228882105665875597955432447n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      5637800196167676674931299634633653507079700890216053255559172664023115825678636228882105665875597955432448n,
      "100000000000000000000000000000000000000000000000000000000000",
    ],
    [
      349543612162395953845740577347286517438941455193395301844668705169433181192075446190690551284287073236811775n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      349543612162395953845740577347286517438941455193395301844668705169433181192075446190690551284287073236811776n,
      "1000000000000000000000000000000000000000000000000000000000000",
    ],
    [
      21671703954068549138435915795531764081214370221990508714369459720504857233908677663822814179625798540682330111n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      21671703954068549138435915795531764081214370221990508714369459720504857233908677663822814179625798540682330112n,
      "10000000000000000000000000000000000000000000000000000000000000",
    ],
    [
      1343645645152250046583026779322969373035290953763411540290906502671301148502338015157014479136799509522304466943n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      1343645645152250046583026779322969373035290953763411540290906502671301148502338015157014479136799509522304466944n,
      "100000000000000000000000000000000000000000000000000000000000000",
    ],
    [
      83306029999439502888147660318024101128188039133331515498036203165620671207144956939734897706481569590382876950527n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      83306029999439502888147660318024101128188039133331515498036203165620671207144956939734897706481569590382876950528n,
      "1000000000000000000000000000000000000000000000000000000000000000",
    ],
    [
      5164973859965249179065154939717494269947658426266553960878244596268481614842987330263563657801857314603738370932735n,
      "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz",
    ],
    [
      5164973859965249179065154939717494269947658426266553960878244596268481614842987330263563657801857314603738370932736n,
      "10000000000000000000000000000000000000000000000000000000000000000",
    ],
  ])("[%#] `%d`を`%s`に変換できる", function (decimal, duosexagesimal) {
    if (BigInt(decimal) > BigInt(Number.MAX_SAFE_INTEGER)) {
      expect(toDuosexagesimal(decimal)).toBe(duosexagesimal);
    } else {
      // `number`型の範囲では`number`版と`bigint`版の結果が
      // 同じになることも確認する。
      const result1 = toDuosexagesimal(decimal);
      const result2 = toDuosexagesimal(BigInt(decimal));
      expect(result1).toBe(duosexagesimal);
      expect(result2).toBe(duosexagesimal);
      expect(result1).toBe(result2);
    }
  });

  test("`Number.MAX_SAFE_INTEGER(9007199254740991)`を入力できる", function () {
    expect(Number.MAX_SAFE_INTEGER).toBe(9007199254740991);
    expect(toDuosexagesimal(Number.MAX_SAFE_INTEGER)).toBe("fFgnDxSe7");
    expect(toDuosexagesimal(BigInt(Number.MAX_SAFE_INTEGER))).toBe("fFgnDxSe7");
  });

  test("`BigInt(Number.MAX_SAFE_INTEGER) + 1n`を入力できる", function () {
    expect(toDuosexagesimal(BigInt(Number.MAX_SAFE_INTEGER) + 1n)).toBe("fFgnDxSe8");
  });

  test("0未満の整数を入力できない", function () {
    expect(function () {
      toDuosexagesimal(-1);
    }).toThrowError(TypeError);
  });

  test("0未満の長整数を入力できない", function () {
    expect(function () {
      toDuosexagesimal(-1);
    }).toThrowError(TypeError);
  });

  test("非整数を入力できない", function () {
    expect(function () {
      toDuosexagesimal(0.1);
    }).toThrowError(TypeError);
  });

  test("`Infinity`と`-Infinity`を入力できない", function () {
    expect(function () {
      toDuosexagesimal(Infinity);
    }).toThrowError(TypeError);
    expect(function () {
      toDuosexagesimal(-Infinity);
    }).toThrowError(TypeError);
  });

  test("`NaN`を入力できない", function () {
    expect(function () {
      toDuosexagesimal(NaN);
    }).toThrowError(TypeError);
  });
});
